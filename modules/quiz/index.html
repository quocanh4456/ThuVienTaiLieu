<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Danh s√°ch b√†i thi - EduPlatform</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
</head>
<body>
    <nav class="sidebar">
        <div class="logo">EduPlatform</div>
        <ul class="nav-links">
            <li><a href="../dashboard/index.html"><span class="nav-icon">üìä</span> T·ªïng quan</a></li>
            <li><a href="../materials/index.html"><span class="nav-icon">üìö</span> Th∆∞ vi·ªán</a></li>
            <li><a href="index.html" class="active"><span class="nav-icon">üìù</span> B√†i h·ªçc & Quiz</a></li>
            <li><a href="../admin/index.html"><span class="nav-icon">‚öôÔ∏è</span> Admin</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <header class="header">
            <h1>üìù Danh s√°ch b√†i ki·ªÉm tra</h1>
            <div class="avatar">S</div>
        </header>

        <div id="quiz-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
            <p>ƒêang t·∫£i danh s√°ch...</p>
        </div>
    </main>

    <script>
        async function loadQuizzes() {
            const container = document.getElementById('quiz-grid');
            try {
                const res = await fetch('http://localhost:3000/api/quizzes');
                const quizzes = await res.json();

                container.innerHTML = '';
                if (quizzes.length === 0) {
                    container.innerHTML = '<p>Ch∆∞a c√≥ b√†i thi n√†o.</p>';
                    return;
                }

                quizzes.forEach(q => {
                    const html = `
                        <div class="card" style="border-left: 5px solid var(--accent-color);">
                            <h3>${q.title}</h3>
                            <p style="color: #64748b; font-size: 0.9rem; margin: 10px 0;">${q.description}</p>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px;">
                                <span class="tag">‚è±Ô∏è ${q.time_limit} ph√∫t</span>
                                <a href="do-quiz.html?id=${q.quiz_id}" class="btn-view" style="background: var(--primary-color); color: white; padding: 8px 15px; border-radius: 6px; text-decoration: none;">L√†m b√†i ngay -></a>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
            } catch (err) {
                console.error(err);
                container.innerHTML = 'L·ªói k·∫øt n·ªëi server.';
            }
        }
        loadQuizzes();
    </script>
</body>
</html>